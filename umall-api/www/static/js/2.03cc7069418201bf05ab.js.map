{"version":3,"sources":["webpack:///src/pages/spec/components/add.vue","webpack:///./src/pages/spec/components/add.vue?dd98","webpack:///./src/pages/spec/components/add.vue","webpack:///src/pages/spec/components/list.vue","webpack:///./src/pages/spec/components/list.vue?a5ca","webpack:///./src/pages/spec/components/list.vue","webpack:///src/pages/spec/spec.vue","webpack:///./src/pages/spec/spec.vue?624e","webpack:///./src/pages/spec/spec.vue"],"names":["components_add","props","components","data","attrArr","value","text","form","specsname","attrs","status","methods","extends_default","Object","vuex_esm","requestToatl","resquestList","addSpec","this","push","del","index","splice","cancle","info","show","isAdd","empty","add","_this","some","item","util_alert","stringify_default","map","request","then","res","code","msg","getInfo","id","_this2","list","JSON","parse","update","_this3","mounted","spec_components_add","render","_vm","_h","$createElement","_c","_self","staticClass","title","visible","on","update:visible","$event","$set","model","label","label-width","autocomplete","callback","$$v","expression","_v","_l","key","type","click","active-value","inactive-value","staticRenderFns","pages_spec_components_add","__webpack_require__","normalizeComponent","ssrContext","computed","total","size","requestPage","$emit","page","_page","components_list","staticStyle","width","margin-bottom","row-key","border","tree-props","children","hasChildren","prop","scopedSlots","_u","fn","scope","row","_s","comifirm","background","layout","page-size","current-change","spec","vAdd","vList","list_normalizeComponent","$refs","spec_spec","ref","spec_Component","spec_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/2.03cc7069418201bf05ab.js","sourcesContent":["<template>\r\n  <div class=\"add\">\r\n    <el-dialog :title=\"info.title\" :visible.sync=\"info.show\">\r\n      <el-form :model=\"form\">\r\n        <el-form-item label=\"规格名称\" label-width=\"80px\">\r\n          <el-input v-model=\"form.specsname\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <!-- 新增规格属性 -->\r\n        <el-form-item label=\"规格属性\" label-width=\"80px\" v-for=\"(item,index) in attrArr\" :key=\"index\">\r\n          <el-input autocomplete=\"off\" class=\"width\" v-model=\"item.value\"></el-input>\r\n          <el-button type=\"primary\" @click=\"addSpec\" v-if=\"index==0\">新增规格属性</el-button>\r\n          <el-button type=\"danger\" @click=\"del(index)\" v-else>删 除</el-button>\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\" label-width=\"80px\">\r\n          <el-switch v-model=\"form.status\" :active-value=\"1\" :inactive-value=\"2\"></el-switch>\r\n        </el-form-item>\r\n        <el-form-item label label-width=\"80px\">\r\n          <el-button type=\"primary\" @click=\"add\" v-if=\"info.isAdd==true\">添 加</el-button>\r\n          <el-button type=\"primary\" @click=\"update\" v-else>修 改</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n// 接口\r\nimport { specAdd,specInfo,specUpdate } from \"../../../util/request\";\r\nimport { seccessAlert, warningAlert } from \"../../../util/alert\";\r\nexport default {\r\n  props: [\"info\"],\r\n  components: {},\r\n  data() {\r\n    return {\r\n      attrArr: [{ value: \"\" }],\r\n      text: 0,\r\n      form: {\r\n        specsname: \"\",\r\n        attrs: \"\",\r\n        status: 1\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      requestToatl: \"spec/requestToatl\",\r\n      resquestList: \"spec/resquestList\"\r\n    }),\r\n    //   添加规格属性标签\r\n    addSpec() {\r\n      this.attrArr.push({ value: \"\" });\r\n    },\r\n    // 删除规格属性标签\r\n    del(index) {\r\n      this.attrArr.splice(index, 1);\r\n    },\r\n    // 取消\r\n    cancle() {\r\n      this.info.show = false;\r\n      if(!this.info.isAdd){\r\n        this.empty();\r\n      }\r\n    },\r\n    // 清空\r\n    empty() {\r\n      this.form = {\r\n        specsname: \"\",\r\n        attrs: \"\",\r\n        status: 1\r\n      };\r\n      this.attrArr = [{ value: \"\" }];\r\n    },\r\n    // 添加规格属性\r\n    add() {\r\n      if (this.attrArr.some(item => item.value == \"\")) {\r\n        warningAlert(\"属性规格均不能为空\");\r\n        return;\r\n      }\r\n      this.form.attrs = JSON.stringify(this.attrArr.map(item => item.value));\r\n      // 发起请求\r\n      specAdd(this.form).then(res => {\r\n        if (res.data.code == 200) {\r\n          seccessAlert(res.data.msg);\r\n          // 清空\r\n          this.empty();\r\n          //   取消\r\n          this.cancle();\r\n          // 请求商品规格列表\r\n          this.resquestList();\r\n          // 请求商品规格总数\r\n          this.requestToatl();\r\n        } else {\r\n          warningAlert(res.data.msg);\r\n        }\r\n      });\r\n    },\r\n    // 获取规格属性的一条\r\n    getInfo(id){\r\n      specInfo({id:id}).then(res=>{\r\n          if(res.data.code==200){\r\n            this.form=res.data.list[0];\r\n            this.attrArr=JSON.parse(res.data.list[0].attrs).map((item)=>({value:item}))\r\n          }else{\r\n            warningAlert(res.data.msg)\r\n          }\r\n      })\r\n    },\r\n    // 修改\r\n    update(){\r\n      if (this.attrArr.some(item => item.value == \"\")) {\r\n        warningAlert(\"属性规格均不能为空\");\r\n        return;\r\n      }\r\n      // 转成字符串存入数据库\r\n      this.form.attrs = JSON.stringify(this.attrArr.map(item => item.value));\r\n      // 发起请求\r\n      specUpdate(this.form).then(res=>{\r\n          if(res.data.code==200){\r\n            seccessAlert(res.data.msg);\r\n            this.cancle();\r\n            this.resquestList();\r\n          }else{\r\n            warningAlert(res.data.msg)\r\n          }\r\n      })\r\n    }\r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n<style scoped lang='stylus'>\r\n.add>>> .el-form-item__content {\r\n  display: flex;\r\n}\r\n\r\n.add>>> .el-input {\r\n  flex: 1;\r\n}\r\n\r\n.el-dialog {\r\n  overflow: hidden;\r\n}\r\n\r\n.dialog-footer {\r\n  float: left;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/spec/components/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add\"},[_c('el-dialog',{attrs:{\"title\":_vm.info.title,\"visible\":_vm.info.show},on:{\"update:visible\":function($event){return _vm.$set(_vm.info, \"show\", $event)}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"规格名称\",\"label-width\":\"80px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.specsname),callback:function ($$v) {_vm.$set(_vm.form, \"specsname\", $$v)},expression:\"form.specsname\"}})],1),_vm._v(\" \"),_vm._l((_vm.attrArr),function(item,index){return _c('el-form-item',{key:index,attrs:{\"label\":\"规格属性\",\"label-width\":\"80px\"}},[_c('el-input',{staticClass:\"width\",attrs:{\"autocomplete\":\"off\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}),_vm._v(\" \"),(index==0)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addSpec}},[_vm._v(\"新增规格属性\")]):_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.del(index)}}},[_vm._v(\"删 除\")])],1)}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"label-width\":\"80px\"}},[_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":2},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\",\"label-width\":\"80px\"}},[(_vm.info.isAdd==true)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添 加\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"修 改\")])],1)],2)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-738a46e1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/spec/components/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-738a46e1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-738a46e1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-738a46e1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/spec/components/add.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"main\">\r\n    <el-table\r\n      :data=\"list\"\r\n      style=\"width: 100%;margin-bottom: 20px;\"\r\n      row-key=\"id\"\r\n      border\r\n      :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\r\n    >\r\n      <el-table-column prop=\"id\" label=\"规格编号\" width=\"180\"></el-table-column>\r\n      <el-table-column prop=\"specsname\" label=\"规格名称\" width=\"180\"></el-table-column>\r\n      <el-table-column label=\"规格属性\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag v-for=\"(item,index) in scope.row.attrs\" :key=\"index\">{{item}}</el-tag>\r\n          </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"状态\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" v-if=\"scope.row.status==1\">启用</el-button>\r\n          <el-button type=\"info\" v-else>禁用</el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" @click=\"update(scope.row.id)\">编辑</el-button>\r\n          <!-- <el-button type=\"danger\">删除</el-button> -->\r\n          <v-btn @comifirm=\"del(scope.row.id)\"></v-btn>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <el-pagination background layout=\"prev, pager, next\" @current-change=\"page\" :page-size='size' :total=\"total\"></el-pagination>\r\n  </div>\r\n</template>\r\n<script>\r\n// 仓库\r\nimport {mapGetters,mapActions} from 'vuex'\r\n// 接口\r\nimport {specDel} from '../../../util/request'\r\n// 弹框\r\nimport {seccessAlert,warningAlert} from '../../../util/alert'\r\nexport default {\r\n  components: {},\r\n  computed:{\r\n      ...mapGetters({\r\n          list:'spec/list',\r\n          total:'spec/total',\r\n          size:'spec/size'\r\n          \r\n      })\r\n  },\r\n  data() {\r\n    return {\r\n    };\r\n  },\r\n  methods: {\r\n      ...mapActions({\r\n          requestToatl:'spec/requestToatl',\r\n          resquestList:'spec/resquestList',\r\n          requestPage:'spec/requestPage'\r\n      }),\r\n    // 点击编辑，通知父组件修改数据\r\n    update(id) {\r\n      this.$emit('update',id)\r\n    },\r\n    // 删除\r\n    del(id) {\r\n      // 发起请求\r\n      specDel({id:id}).then(res=>{\r\n        if(res.data.code==200){\r\n          seccessAlert('删除成功');\r\n          this.resquestList();\r\n          this.requestToatl();\r\n        }else{\r\n          warningAlert(res.data.msg)\r\n        }\r\n      })\r\n    },\r\n    // 修改当前页\r\n    page(page){\r\n      this.requestPage(page);\r\n      this.resquestList();\r\n    }\r\n  },\r\n  mounted() {\r\n    //   获取商品规格列表\r\n    this.resquestList();\r\n    //   获取商品规格总数\r\n    this.requestToatl();\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.main{\r\n    overflow: hidden;\r\n}\r\n.el-pagination{\r\n    float: right;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/spec/components/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.list,\"row-key\":\"id\",\"border\":\"\",\"tree-props\":{children: 'children', hasChildren: 'hasChildren'}}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"规格编号\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"specsname\",\"label\":\"规格名称\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"规格属性\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.attrs),function(item,index){return _c('el-tag',{key:index},[_vm._v(_vm._s(item))])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status==1)?_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"启用\")]):_c('el-button',{attrs:{\"type\":\"info\"}},[_vm._v(\"禁用\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.update(scope.row.id)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('v-btn',{on:{\"comifirm\":function($event){return _vm.del(scope.row.id)}}})]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-size\":_vm.size,\"total\":_vm.total},on:{\"current-change\":_vm.page}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-9d68e5e8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/spec/components/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9d68e5e8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9d68e5e8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9d68e5e8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/spec/components/list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <!-- 添加按钮 -->\r\n    <el-button type=\"primary\" @click=\"add\">添 加</el-button>\r\n    <!-- 添加弹框 -->\r\n    <v-add :info='info' ref=\"add\"></v-add>\r\n    <!-- 列表 -->\r\n    <v-list @update='update'></v-list>\r\n  </div>\r\n</template>\r\n<script>\r\nimport vAdd from './components/add'\r\nimport vList from './components/list'\r\nexport default {\r\n  components: {\r\n      vAdd,\r\n      vList\r\n  },\r\n  data() {\r\n    return {\r\n        info:{\r\n            show:false,\r\n            title:'添加商品规格',\r\n            isAdd:true\r\n        }\r\n    };\r\n  },\r\n  methods: {\r\n    //   添加\r\n    add(){\r\n        this.info.show=true;\r\n        this.info.title = \"添加商品规格\";\r\n      this.info.isAdd = true;\r\n    },\r\n    // 修改数据\r\n    update(id){\r\n      this.info.show=true;\r\n      this.info.title='修改商品规格';\r\n      this.info.isAdd=false;\r\n      this.$refs.add.getInfo(id)\r\n    }\r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n<style scoped>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/spec/spec.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添 加\")]),_vm._v(\" \"),_c('v-add',{ref:\"add\",attrs:{\"info\":_vm.info}}),_vm._v(\" \"),_c('v-list',{on:{\"update\":_vm.update}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-ca3bd45e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/spec/spec.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ca3bd45e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./spec.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./spec.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./spec.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ca3bd45e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./spec.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ca3bd45e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/spec/spec.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}